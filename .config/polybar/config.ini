[colors]
foreground = ${xrdb:foreground}
background = ${xrdb:background}
darker = ${xrdb:darker}
cursorColor = ${xrdb:cursorColor}
darkblack = ${xrdb:color0}
black = ${xrdb:color8}
darkred = ${xrdb:color9}
red = ${xrdb:color1}
darkgreen = ${xrdb:color10}
green = ${xrdb:color2}
darkyellow = ${xrdb:color11}
yellow = ${xrdb:color3}
darkblue = ${xrdb:color12}
blue = ${xrdb:color4}
darkpurple = ${xrdb:color13}
purple = ${xrdb:color5}
darkcyan = ${xrdb:color14}
cyan = ${xrdb:color6}
darkgray = ${xrdb:color15}
gray = ${xrdb:color7}

[vars]
padding = 2
gap-inner = ${env:BSPWMRC_GAP_INNER}
gap-outer = ${env:BSPWMRC_GAP_OUTER}
width = ${env:BSPWMRC_POLYBAR_WIDTH}
height = ${env:BSPWMRC_POLYBAR_HEIGHT}
border-size = ${env:BSPWMRC_BORDER_SIZE}

[settings]
format-padding = ${vars.padding}
compositing-border = bottom

[bar/base]
width = ${vars.width}
offset-x = ${vars.gap-outer}
offset-y = ${vars.gap-outer}
bottom = false
monitor = ${env:MONITOR:}
module-margin = ${vars.padding}
underline-size = ${vars.border-size}
height = ${vars.height}
background = ${colors.darker}
foreground = ${colors.foreground}
border-bottom-size = ${vars.border-size}
border-color = ${colors.red}
font-0 = IBM Plex Sans:size=10:weight=medium;3
font-1 = Font Awesome 6 Free:size=10:weight=bold;3
font-2 = Font Awesome 6 Brands:size=10:weight=bold;3
scroll-up = bspc desktop -f prev.local
scroll-down = bspc desktop -f next.local
override-redirect = true

[bar/main]
inherit = bar/base
modules-left = bspwm title
modules-right = docker updates media cpu ram xkeyboard volume date
tray-position = center
tray-background = ${colors.background}

[bar/bar1]
inherit = bar/base
modules-left = bspwm
modules-right = media date

[module/bspwm]
type = internal/bspwm
pin-workspaces = true
enable-click = true
enable-scroll = false

format = <label-monitor> <label-state> <label-mode>
format-prefix = 
format-prefix-padding = ${vars.padding}
format-prefix-foreground = ${colors.red}

label-monitor-padding = ${vars.padding}

label-dimmed = %name%
label-dimmed-foreground = ${colors.foreground}
label-dimmed-background = ${colors.darker}
label-dimmed-padding = ${vars.padding}

label-focused = %name%
label-focused-background = ${colors.red}
label-focused-foreground = ${colors.background}
label-focused-padding = ${vars.padding}
label-dimmed-focused-foreground = ${colors.red}
label-dimmed-focused-background = ${colors.background}

label-occupied = %name%
label-occupied-foreground = ${colors.red}
label-occupied-padding = ${vars.padding}
label-dimmed-occupied-foreground = ${colors.red}

label-urgent = %name%
label-urgent-background = ${colors.yellow}
label-urgent-foreground = ${colors.gray}
label-urgent-padding = ${vars.padding}
label-dimmed-urgent-foreground = ${colors.yellow}
label-dimmed-urgent-background = ${colors.background}

label-empty = %name%
label-empty-foreground = ${colors.gray}
label-empty-padding = ${vars.padding}
label-dimmed-empty-foreground = ${colors.gray}

[module/title]
type = internal/xwindow
format-prefix =  
format-prefix-padding = ${vars.padding}
format-prefix-foreground = ${colors.darkpurple}
label-maxlen = 100
label-empty = Desktop

[module/date]
type = internal/date
interval = 1.0
date = %A, %d %B %Y
time = %H:%M:%S
date-alt = %Y-%m-%d%
time-alt = %H:%M:%S
label = %date% %time%
format-prefix = 
format-prefix-padding = ${vars.padding}
format-prefix-foreground = ${colors.red}

[module/volume]
type = internal/pulseaudio
use-ui-max = true
interval = 5

label-volume = %percentage%%
label-muted =    muted
label-muted-foreground = ${colors.darkred}

format-volume = <ramp-volume> <label-volume>

ramp-volume-padding = ${vars.padding}
ramp-volume-foreground = ${colors.darkblue}
ramp-volume-0 = 
ramp-volume-1 = 
ramp-volume-2 = 

[module/media]
type = custom/script
exec = ~/.config/polybar/scripts/media.sh
interval = 1
format-prefix = 
format-prefix-padding = ${vars.padding}
format-prefix-foreground = ${colors.green}
click-left = playerctl --player playerctld play-pause

[module/cpu]
type = internal/cpu
format-prefix = 
format-prefix-padding = ${vars.padding}
format-prefix-foreground = ${colors.darkpurple}

[module/ram]
type = internal/memory
format-prefix = 
format-prefix-padding = ${vars.padding}
format-prefix-foreground = ${colors.darkcyan}

[module/docker]
type = custom/script
exec = ~/.config/polybar/scripts/docker.sh
format-prefix = 
format-prefix-padding = ${vars.padding}
format-prefix-foreground = ${colors.cyan}

[module/updates]
type = custom/script
exec = python ~/.config/polybar/scripts/updates.py count
interval = 600
format-prefix = 
format-prefix-padding = ${vars.padding}
format-prefix-foreground = ${colors.yellow}
click-left = python ~/.config/polybar/scripts/updates.py install

[module/xkeyboard]
type = internal/xkeyboard
blacklist-0 = num lock
blacklist-1 = scroll lock

format = <label-layout> <label-indicator>
format-prefix = 
format-prefix-padding = ${vars.padding}
format-prefix-foreground = ${colors.green}

click-left = xdotool key alt+space

